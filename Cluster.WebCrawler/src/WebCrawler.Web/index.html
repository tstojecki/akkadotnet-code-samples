<!DOCTYPE html>
<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crawler Status</title>
    <link href="/Content/css?v=MDbdFKJHBa_ctS5x4He1bMV0_RjRq8jpcIAvPpKiN6U1" rel="stylesheet">
</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Application name</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="/">Home</a></li>
                    <li><a href="http://getakka.net/">Akka.NET</a></li>
                    <li><a href="http://petabridge.com/"></a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="container body-content">

        <div class="jumbotron">
            <h1>Web Crawler of Doom!</h1>
            <p class="lead">Akka.NET on Gorilla Steroids</p>
            <p><a href="http://getakka.net" class="btn btn-primary btn-lg">Learn more »</a></p>
        </div>

        <div class="row">
            <div class="input-group">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" id="btnQuery">Query</button>
                </span>
                <input type="text" class="form-control" placeholder="Crawl domain..." id="crawlDomain">
            </div>
            <div class="well" id="output">
                <!-- ko foreach: messages -->
                <p data-bind="text:message"></p>
                <!-- /ko -->
            </div>

        </div>
   
        <hr>
        <footer>
            <p>© 2015 - Petabridge, LLC</p>
        </footer>

    </div>

    <script src="/bundles/jquery?v=FVs3ACwOLIVInrAl5sdzR2jrCDmVOWFbZMY6g6Q0ulE1"></script>

    <script src="/bundles/bootstrap?v=2Fz3B0iizV2NnnamQFrx-NbYJNTFeBJ2GM05SilbtQU1"></script>

    <script src="/bundles/signalr?v=dWz8CsoDJIHV_ZpXMTrJ2DpGfZlsCuX7uMSVolnQlag1"></script>

    <script src="/signalr/hubs"></script>
    <script>
        function StreamViewModel() {
            var self = this;

            self.messages = ko.observableArray([]);

            self.addMessage = function (message) {
                self.messages.unshift({ message: message });
            };
        }

        var stream = new StreamViewModel();
        ko.applyBindings(stream);

        $(function () {
            // Reference the auto-generated proxy for the hub.
            var chat = $.connection.crawlHub;
            // Create a function that the hub can call back to display messages.
            chat.client.writeStatus = function (message) {
                stream.addMessage(message);
            };


            $.connection.hub.start().done(function () {
                $('#btnQuery').click(function () {
                    //call the StartCrawl method on the hub
                    chat.server.startCrawl($('#crawlDomain').val());

                    $('#crawlDomain').val('').focus();
                });
            });
        });
    </script>
</body>
</html>